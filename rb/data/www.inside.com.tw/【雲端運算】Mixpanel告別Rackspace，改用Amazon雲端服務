


Mixpanel是Y Combinator的培育團隊之一，可以參考前文的介紹：Mixpanel：即時性的Web與Mobile流量分析服務。
最近有非常多的文章在談論這個新的流量分析服務。Mixpanel的特點在於它強調「即時」的流量分析，其實過去也有些網站流量分析服務強調即時性，像是Yahoo!站長工具或是Reinvigorator，不過這種「傳統的流量分析服務」要做到真正的即時性是非常困難的。
Mixpanel提供即時的流量統計服務，是針對「使用者的瀏覽行為」進行統計，你可以追蹤包括影片是否有被播放、某個連結究竟有沒有被點擊或是商品有沒有被放入購物車中（Google Analytics其實也有提供此類功能），目前號稱一個月可以收集到10億次的使用者瀏覽行為（相當於每秒385次），在過去可能只有像Google這種規模的公司有能力從容地應付龐大的流量，然而在這個軟硬體技術瘋狂進步的年代（或是今年比較流行的說法：雲端運算的時代），打造這種中大型服務、大玩具門檻似乎降低了不少。對於Mixpanel這種可能快速成長的服務來說，平台本身的延展性（Scalability）是非常重要的，如果硬體、機房的配置無法配合持續成長的業務需求進行擴充，便會阻礙公司的成長。
任何採用所謂雲端技術、雲端服務的廠商，包括Mixpanel在內，其實都會希望在硬體需求擴增時，透過所謂"One-step function"，簡單的一個操作就擴充硬體效能，而不需要過多其他的組態、設定影響到服務持續提供營運的時間。
Mixpanel從最早使用Slicehost（Slicehost是一家VPS服務提供廠商，Slicehost並不是真正可以延展的雲端架構 。 VPS = virtual private server）接著搬到Linode（這是另一家VPS提供廠商，比Slicehost便宜，Inside網站目前也是使用Linode的服務），隨後又因為成為Y Combinator育成團隊之一，便與Y Combinator的簽約廠商Rackspace展開了合作關係。
我們可以發現，2009年8月底Mixpanel曾在其官方部落格上宣告Mixpanel與Rackspace的夥伴關係，不過顯然Mixpanel對於Rackspace這個夥伴是不太滿意的，因此最近Mixpanel就在他們的開發部落格上直接向Rackspace說Goodbye，並且投奔Amazon，文章裡面分析了幾個主要重點，我想會是評估要採用哪一家廠商所提供的雲端運算平台的好案例。
儲存空間
像Mixpanel規模的系統運作時對於資料存取的要求是非常高的，因此在建設具有延展性的架構時，資料存取的表現顯然是個必須認真考慮的主要因素。早期Mixpanel使用Cassandra作為主要的資料庫系統（Cassandra是由Facebook發展的一套NoSQL資料庫，目前由Apache軟體基金會負責發展維護，包括Twitter, Reddit, Digg等知名網站都是Cassandra的用戶），但Rackspace提供的服務在方面的表現是非常非常糟糕的，將資料寫回資料庫的磁碟與實際存放資料的磁碟是分開的，Rackspace卻無法讓這件事變得簡單點。相較之下，Amazon所提供的EBS(Elastic Block Storage)顯然就是天賜之物(godsend)。
根據Mixpanel的經驗，在Rackspace如果你想要增加磁碟空間的時候該怎麼辦呢？通常你必須重新設定組態，然後重新開機或是重新掛載磁碟，如果你想要超過620GB的容量怎麼辦呢？大概是做不到的。
而在Amazon所提供的EBS，基本上你可以隨時任意的新增磁區到雲端平台上的任何節點上，這是很棒的一個特色，因為在轉移資料的過程中，你只要重新掛載EBS即可，不需要進行遠端複製。
不過，Mixpanel也提到，他們也不認為EBS的IO效能可以好到哪裡去，事實上只要談到Disk I/O的效能，就是個很大的挑戰，但至少EBS讓Mixpanel不用去處理資料庫存取在不同的磁碟上這件事情。（不過我沒實際玩過Cassandra，滿好奇為什麼會有這樣的架構設計）
硬體等級
Amazon提供了各種不同等級的虛擬硬體（EC2 instance，是Amazon提供雲端硬體的基本單位），依照不同的需求你可以選購超大記憶體或是超強的運算效能，各種容量、規格任君選擇。相較之下，Rackspace提供的服務雖然價格上的門檻比較低，但如果你的服務會快速的成長，那麼Rackspace顯然就不那麼適合。Rackspace提供的選擇其實也比較接近VPS，可以調配的規格似乎著重在儲存空間與記憶體的容量，不像Amazon，記憶體是誇張的大、運算單元也是有很多種選擇。
上線時間(uptime)
根據Mixpanel的說法，Rackspace的上線時間是很糟糕的，過去這一年來使用Rackspace的經驗中，曾經出過兩次大包。而且問題看起來是有點嚴重，例如某個節點每個禮拜都會出問題，Mixpanel甚至還要自己建置容錯的機制來避免特定節點出錯後造成整個服務中斷，這麼累，用這個假雲端幹嘛？儘管知道Amazon也是會出問題的，不過Mixpanel認為，對於Amazon他們是比較放心的，因為Amazon自己也非常依賴AWS。
容量限制
容量的限制大概是Mixpanel遇到最麻煩的問題，在Rackspace想要增加記憶體總是經常遇到問題，你必須開一張ticket等待客服人員來替你處理。在Amazon的話，其實這一切都是可以自己處理的，而且通常應該是不會遇到什麼問題。
全球化
Amazon提供名為Cloudfront的CDN（Content Delivery Network）服務，透過CDN你可以很輕鬆地將內容放送到全世界，網友在使用你的網站時，會根據網友的所在位置選擇鄰近的機房下載需要的內容，加快網友載入網站的速度。對Mixpanel來說，Rackspace目前沒有提供CDN的服務，這是很困擾的。
備份
根據Mixpanel的說法，Rackspace提供的自動備份服務只有2G，這個數據實在是有點扯。相較之下，如果是Amazon的S3用來作備份顯然是強大許多。Mixpanel認為在Amazon要進行備份動作是既清楚又直觀。
價格
Mixpanel針對Rackspace與Amazon提供的雲端服務進行了一系列的試算、比價，由於還不確定到底實際在Amazon上部署服務後到底會需要增加多少機器，所以試算過程中也高估即將在Amazon上使用的各種資源數量。試算的結果，Amazon大概可以幫Mixpanel省下5%-10%左右的成本，差距並不大，目前能看到每個月的成本姑且就算是差不多吧！
不過Amazon有另一個好處：Amazon提供了Reserved instances以及Bided instantces兩種模式，對於有心要長久經營服務的廠商，長期來說勢必會省下一筆可觀的費用。而且，Amazon經常有事沒事就降價回饋消費者，這也是很吸引人的。
對Mixpanel來說，最重要的理由究竟是什麼？
Amazon在所有雲端產品的更新維護都有優於其他廠商的表現，顯然是目前最好的雲端服務提供商。Mixpanel的使用者肯定是會持續使用Mixpanel提供的服務，既然如此，就應該選擇最好、最穩定、口碑最棒的服務，Rackspace實在是很慢。就一個發展雲端架構的人來說，在進行架構設計規劃、建置、維護的過程中，當然是希望能使用又快又好，用起來又開心又快樂的產品呀！
結語
我認為Amazon的雲端服務，最初就是將公司本身閒置的IT資源拿出來進行租賃服務，除了提高資產的利用率之外也另外創造一塊營收，沒想到最終是創造了另一塊非常可觀的商機，同時也改變了產業中的一些生態，也順便讓媒體可以在高喊雲端運算的時候又多一個案例。Rackspace，雖然我沒用過，但光是看Amazon所提供的雲端運算產品線是如此的廣，在預留發展空間的前提下，我也會優先選擇Amazon的服務。（我本身是Amazon AWS的愛用者）不曉得你有使用過其他雲端運算服務嗎？歡迎跟我們分享你的心得。
References
We’re moving. Goodbye Rackspace.





